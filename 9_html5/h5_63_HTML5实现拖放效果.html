<!DOCTYPE html>
<html>
<head>
    <title>HTML5实现拖放效果</title>
    <meta charset="UTF-8">
    <style>
        #d1,#d2{
            width: 300px;
            height: 300px;
            border: 1px solid black;
            float: left;
            padding: 10px;
        }
        #d2{
            float: right;
        }
    </style>
</head>
<body>
    <!--作为拖放的源元素-->
    <div id="d1">
        <img id="img" width="200" src="p1.png"/>
    </div>
    <!--作为拖放的目标元素-->
    <div id="d2"></div>
    <script>
        //获取源元素和目标元素
        var img = document.getElementById("img");
        var d2 = document.getElementById("d2");

        //为源元素和目标元素绑定必要事件
        img.addEventListener("dragstart",myDragstart);
        d2.addEventListener("dragover",myDragover);
        d2.addEventListener("drop",myDrop);
        //定义事件的处理函数
        function myDragstart(event){
            var data = img.src;
            event.dataTransfer.setData("text",data);
        }
        function myDragover(event){
            //该方法用于阻止默认行为
            event.preventDefault();
        }
        function myDrop(event){
            var data = event.dataTransfer.getData("text");
            var myImg = document.createElement("img");
            myImg.setAttribute("src",data);
            myImg.setAttribute("width","200");
            d2.appendChild(myImg);
        }
    </script>
</body>
</html>