<!DOCTYPE html>
<html>
<head>
    <title>修改元素的属性</title>
    <meta charset="UTF-8">
    <script>
        window.onload = function(){
            var ul = document.getElementById("queue");
            var lis = ul.getElementsByTagName("li");
            var len = lis.length;
            var nums = [];
            while(nums.length<len){
                var num = parseInt(Math.random()*len+1);
                if(nums.indexOf(num)==-1){
                    nums.push(num);
                }
            }

            for(var i=0; i<len; i++){
                lis[i].dataset.i = nums[i];
            }
            //将类数组对象变为数组类型对象
            lis = Array.prototype.slice.call(lis);
            lis.sort(function(a,b){
                return a.dataset.i- b.dataset.i;
            });
            for(var i=0; i<len; i++){
                lis[i] = '<li data-i="'+lis[i].dataset.i+'">'+lis[i].innerHTML+'</li>';
            }
            ul.innerHTML = lis.join("");
        }
    </script>
</head>
<body>
    <ul id="queue">
        <li>Eric</li>
        <li>Scott</li>
        <li>Jerry</li>
        <li>Tom</li>
        <li>Rose</li>
        <li>John</li>
        <li>Smith</li>
        <li>Andy</li>
    </ul>
</body>
</html>