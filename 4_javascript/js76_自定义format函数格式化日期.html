<!DOCTYPE html>
<html>
<head>
    <title>自定义format函数格式化日期</title>
    <meta charset="UTF-8">
    <script>
        function format(date){
            var result = [];//保存每个分量的值
            var week = ['日','一','二','三','四','五','六'];
            result[0] = date.getFullYear();
            result[1] = date.getMonth()+1;
            result[1]<10 && (result[1]="0"+result[1]);
            result[2] = date.getDate();
            result[2]<10 && (result[2]="0"+result[2]);
            result[3] = week[date.getDay()];
            var hours = date.getHours();
            result[4] = hours<12?"上午":"下午";
            hours>12 && (hours-=12);
            hours<10 && (hours="0"+hours);
            result[5] = hours
            result[6] = date.getMinutes();
            result[6]<10 && (result[6]="0"+result[6]);
            result[7] = date.getSeconds();
            result[7]<10 && (result[7]="0"+result[7]);
            var reg = /(\d{4})(\d{2})(\d{2})([\u4e00-\u9fa5])([\u4e00-\u9fa5]{2})(\d{2})(\d{2})(\d{2})/;
            result = result.join("");
            return result.replace(reg,"$1年$2月$3日 星期$4 $5$6:$7:$8")
        }
        console.log(format(new Date()));
    </script>
</head>
<body>
</body>
</html>